---
description:
globs:
alwaysApply: false
---
# React Native VLC Pro - RÃ¨gles de DÃ©veloppement

## ğŸ“Š Ã‰tat Actuel du Projet

**Phase actuelle** : Phase 1 (95% complÃ©tÃ©e) â†’ Phase 2 (40% dÃ©marrÃ©e)  
**Fichier de suivi principal** : [PLANNING.md](mdc:PLANNING.md)  
**Tests** : 65/65 passants âœ…  
**Validation streaming** : 100% de rÃ©ussite sur 5 sources âœ…

## ğŸ¯ Prochaines PrioritÃ©s

1. **Tests de compatibilitÃ© rÃ©els** - Valider sur Ã©mulateur/appareil
2. **Finalisation interface utilisateur** - ContrÃ´les interactifs avancÃ©s  
3. **Gestion pistes audio/sous-titres** - SÃ©lection multi-pistes

## ğŸ“ Architecture du Projet

### Composants Principaux
- [src/components/VLCPlayer.tsx](mdc:src/components/VLCPlayer.tsx) - Composant principal âœ…
- [src/components/VideoControls.tsx](mdc:src/components/VideoControls.tsx) - Interface utilisateur moderne âœ…
- [src/components/VLCPlayerNative.tsx](mdc:src/components/VLCPlayerNative.tsx) - Bridge natif âœ…

### Types et Configuration
- [src/types/Media.ts](mdc:src/types/Media.ts) - Types pour sources mÃ©dia âœ…
- [src/types/index.ts](mdc:src/types/index.ts) - Exports des types âœ…
- [src/index.ts](mdc:src/index.ts) - Point d'entrÃ©e principal âœ…

### Modules Natifs (90% complÃ©tÃ©s)
- [android/src/main/java/com/vlcpro/VLCPlayerView.java](mdc:android/src/main/java/com/vlcpro/VLCPlayerView.java) - Support headers HTTP âœ…
- [ios/VLCPro/VLCPlayerView.swift](mdc:ios/VLCPro/VLCPlayerView.swift) - Bridge iOS âœ…

### Exemples et Tests
- [example/StreamingExamples.tsx](mdc:example/StreamingExamples.tsx) - Tests de formats âœ…
- [example/AdvancedPlayerExample.tsx](mdc:example/AdvancedPlayerExample.tsx) - Interface complÃ¨te âœ…
- [scripts/test-streaming.js](mdc:scripts/test-streaming.js) - Validation automatisÃ©e âœ…

## ğŸ› ï¸ Commandes de Validation

```bash
# VÃ©rifications obligatoires avant modification :
npm test                           # Doit afficher 65/65 tests passants
npm run lint                       # Doit Ãªtre sans erreur
node scripts/test-streaming.js     # Doit afficher 100% de rÃ©ussite
```

## ğŸ“ RÃ¨gles de DÃ©veloppement

### 1. Mise Ã  jour du PLANNING.md
- **OBLIGATOIRE** : Mettre Ã  jour [PLANNING.md](mdc:PLANNING.md) aprÃ¨s chaque session
- IncrÃ©menter les pourcentages de progression
- Ajouter les accomplissements dans la section "NOUVEAU"
- RÃ©viser les prochaines Ã©tapes prioritaires

### 2. Standards de Code
- Types TypeScript stricts obligatoires
- Tous les nouveaux exports dans [src/index.ts](mdc:src/index.ts)
- Documentation JSDoc pour les nouvelles fonctions
- Tests pour les nouveaux composants

### 3. Gestion des Erreurs
Utiliser les codes d'erreur standardisÃ©s :
- `VLC_INIT_ERROR` - Erreur d'initialisation VLC
- `MEDIA_CREATION_FAILED` - Impossible de crÃ©er le mÃ©dia
- `PLAYBACK_ERROR` - Erreur de lecture
- `INVALID_SOURCE` - Source invalide

## ğŸ¯ FonctionnalitÃ©s ImplÃ©mentÃ©es

### âœ… ComplÃ©tÃ©es
- Support des formats : MP4, MKV, AVI, MOV, WebM
- Protocoles de streaming : HLS, DASH, RTMP, RTSP
- Headers HTTP et authentification (Android)
- Composant VideoControls avec thÃ¨mes
- Hook useVLCPlayer fonctionnel
- Applications d'exemple complÃ¨tes

### ğŸš§ En Cours
- Tests de compatibilitÃ© sur appareils rÃ©els
- Interface utilisateur avancÃ©e (sliders interactifs)
- Auto-hide des contrÃ´les

### ğŸ“‹ Ã€ Faire
- Gestion des pistes audio multiples
- Support des sous-titres (SRT, VTT, ASS)
- Optimisation des performances
- Documentation API complÃ¨te

## ğŸš¨ Points d'Attention

### DÃ©pendances Critiques
- React Native 0.79.x
- libVLC 3.6.5 (Android)
- MobileVLCKit 4.0.0a2 (iOS)

### Fichiers Sensibles (Ne pas modifier sans validation)
- [android/src/main/java/com/vlcpro/VLCPlayerView.java](mdc:android/src/main/java/com/vlcpro/VLCPlayerView.java)
- [ios/VLCPro/VLCPlayerView.swift](mdc:ios/VLCPro/VLCPlayerView.swift)
- [src/types/index.ts](mdc:src/types/index.ts)

## ğŸ“Š MÃ©triques de SuccÃ¨s

- Tests unitaires : Maintenir 65+ tests passants
- Couverture de code : Viser 85%+
- Performance : Temps de dÃ©marrage < 2s
- Taille du package : < 50MB

## ğŸ“ Communication

Utiliser `interactive_feedback` pour toute question ou validation avec :
- `project_directory`: "/Users/jerome/Projects/react-native-vlc-pro"
- `summary`: Description concise des changements

## ğŸ¯ Objectif Final

Livrer un lecteur VLC professionnel pour React Native avec :
- Support complet des formats et protocoles
- Interface utilisateur moderne et responsive
- Documentation complÃ¨te
- Tests de compatibilitÃ© validÃ©s
